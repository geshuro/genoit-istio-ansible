gateways:
  istio-egressgateway:
    name: {{ istio_gateways_istio_egressgateway_name }}
{% if istio_gateways_istio_egressgateway_labels is defined and istio_gateways_istio_egressgateway_labels|length %}
    labels:
{{ istio_gateways_istio_egressgateway_labels|indent(6, True) }}
{% endif %}
{% if istio_gateways_istio_egressgateway_ports is defined and istio_gateways_istio_egressgateway_ports|length %}
    ports:
{{ istio_gateways_istio_egressgateway_ports|indent(6, True) }}
{% endif %}
    rollingMaxSurge: {{ istio_gateways_istio_egressgateway_rollingMaxSurge }}
    rollingMaxUnavailable: {{ istio_gateways_istio_egressgateway_rollingMaxUnavailable }}
    autoscaleEnabled: {{ istio_gateways_istio_egressgateway_autoscaleEnabled }}
    autoscaleMin: {{ istio_gateways_istio_egressgateway_autoscaleMin }}
    autoscaleMax: {{ istio_gateways_istio_egressgateway_autoscaleMax }}
{% if istio_gateways_istio_egressgateway_cpu is defined and istio_gateways_istio_egressgateway_cpu|length %}
    cpu:
{{ istio_gateways_istio_egressgateway_cpu|indent(6, True) }}
{% endif %}
{% if istio_gateways_istio_egressgateway_resources is defined and istio_gateways_istio_egressgateway_resources|length %}
    resources:
{{ istio_gateways_istio_egressgateway_resources|indent(6, True) }}
{% endif %}
    loadBalancerIP: "{{ istio_gateways_istio_egressgateway_loadBalancerIP }}"
{% if istio_gateways_istio_egressgateway_loadBalancerSourceRanges is defined and istio_gateways_istio_egressgateway_loadBalancerSourceRanges|length %}
    loadBalancerSourceRanges:
{{ istio_gateways_istio_egressgateway_loadBalancerSourceRanges|indent(6, True) }}
{% endif %}
{% if istio_gateways_istio_egressgateway_serviceAnnotations is defined and istio_gateways_istio_egressgateway_serviceAnnotations|length %}
    serviceAnnotations:
{{ istio_gateways_istio_egressgateway_serviceAnnotations|indent(6, True) }}
{% endif %}
{% if istio_gateways_istio_egressgateway_zvpn is defined and istio_gateways_istio_egressgateway_zvpn|length %}
    zvpn:
{{ istio_gateways_istio_egressgateway_zvpn|indent(6, True) }}
{% endif %}
{% if istio_gateways_istio_egressgateway_podAnnotations is defined and istio_gateways_istio_egressgateway_podAnnotations|length %}
    podAnnotations:
{{ istio_gateways_istio_egressgateway_podAnnotations|indent(6, True) }}
{% endif %}
    type: {{ istio_gateways_istio_egressgateway_type }}
{% if istio_gateways_istio_egressgateway_secretVolumes is defined and istio_gateways_istio_egressgateway_secretVolumes|length %}
    secretVolumes:
{{ istio_gateways_istio_egressgateway_secretVolumes|indent(6, True) }}
{% endif %}
    customService: {{ istio_gateways_istio_egressgateway_customService }}
    externalTrafficPolicy: "{{ istio_gateways_istio_egressgateway_externalTrafficPolicy }}"
{% if istio_gateways_istio_egressgateway_egressPorts is defined and istio_gateways_istio_egressgateway_egressPorts|length %}
    egressPorts:
{{ istio_gateways_istio_egressgateway_egressPorts|indent(6, True) }}
{% endif %}
{% if istio_gateways_istio_egressgateway_additionalContainers is defined and istio_gateways_istio_egressgateway_additionalContainers|length %}
    additionalContainers:
{{ istio_gateways_istio_egressgateway_additionalContainers|indent(6, True) }}
{% endif %}
{% if istio_gateways_istio_egressgateway_configVolumes is defined and istio_gateways_istio_egressgateway_configVolumes|length %}
    configVolumes:
{{ istio_gateways_istio_egressgateway_configVolumes|indent(6, True) }}
{% endif %}
{% if istio_gateways_istio_egressgateway_env is defined and istio_gateways_istio_egressgateway_env|length %}
    env:
{{ istio_gateways_istio_egressgateway_env|indent(6, True) }}
{% endif %}
{% if istio_gateways_istio_egressgateway_nodeSelector is defined and istio_gateways_istio_egressgateway_nodeSelector|length %}
    nodeSelector:
{{ istio_gateways_istio_egressgateway_nodeSelector|indent(6, True) }}
{% endif %}
{% if istio_gateways_istio_egressgateway_tolerations is defined and istio_gateways_istio_egressgateway_tolerations|length %}
    tolerations:
{{ istio_gateways_istio_egressgateway_tolerations|indent(6, True) }}
{% endif %}
{% if istio_gateways_istio_egressgateway_podAntiAffinityLabelSelector is defined and istio_gateways_istio_egressgateway_podAntiAffinityLabelSelector|length %}
    podAntiAffinityLabelSelector:
{{ istio_gateways_istio_egressgateway_podAntiAffinityLabelSelector|indent(6, True) }}
{% endif %}
{% if istio_gateways_istio_egressgateway_podAntiAffinityTermLabelSelector is defined and istio_gateways_istio_egressgateway_podAntiAffinityTermLabelSelector|length %}
    podAntiAffinityTermLabelSelector:
{{ istio_gateways_istio_egressgateway_podAntiAffinityTermLabelSelector|indent(6, True) }}
{% endif %}
    runAsRoot: {{ istio_gateways_istio_egressgateway_runAsRoot }}
    injectionTemplate: "{{ istio_gateways_istio_egressgateway_injectionTemplate }}"

revision: "{{ istio_gateways_egressgateway_revision }}"

ownerName: "{{ istio_gateways_egressgateway_ownerName }}"

global:
{% if istio_gateways_egressgateway_global_defaultConfigVisibilitySettings is defined and istio_gateways_egressgateway_global_defaultConfigVisibilitySettings|length %}
  defaultConfigVisibilitySettings:
{{ istio_gateways_egressgateway_global_defaultConfigVisibilitySettings|indent(4, True) }}
{% endif %}
{% if istio_gateways_egressgateway_global_defaultNodeSelector is defined and istio_gateways_egressgateway_global_defaultNodeSelector|length %}
  defaultNodeSelector:
{{ istio_gateways_egressgateway_global_defaultNodeSelector|indent(4, True) }}
{% endif %}
{% if istio_gateways_egressgateway_global_defaultPodDisruptionBudget is defined and istio_gateways_egressgateway_global_defaultPodDisruptionBudget|length %}
  defaultPodDisruptionBudget:
{{ istio_gateways_egressgateway_global_defaultPodDisruptionBudget|indent(4, True) }}
{% endif %}
{% if istio_gateways_egressgateway_global_defaultResources is defined and istio_gateways_egressgateway_global_defaultResources|length %}
  defaultResources:
{{ istio_gateways_egressgateway_global_defaultResources|indent(4, True) }}
{% endif %}
{% if istio_gateways_egressgateway_global_defaultTolerations is defined and istio_gateways_egressgateway_global_defaultTolerations|length %}
  defaultTolerations:
{{ istio_gateways_egressgateway_global_defaultTolerations|indent(4, True) }}
{% endif %}
  hub: {{ istio_gateways_egressgateway_global_hub }}
  tag: {{ istio_gateways_egressgateway_global_tag }}
  imagePullPolicy: "{{ istio_gateways_egressgateway_global_imagePullPolicy }}"
{% if istio_gateways_egressgateway_global_imagePullSecrets is defined and istio_gateways_egressgateway_global_imagePullSecrets|length %}
  imagePullSecrets:
{{ istio_gateways_egressgateway_global_imagePullSecrets|indent(4, True) }}
{% endif %}
  logAsJson: {{ istio_gateways_egressgateway_global_logAsJson }}
{% if istio_gateways_egressgateway_global_arch is defined and istio_gateways_egressgateway_global_arch|length %}
  arch:
{{ istio_gateways_egressgateway_global_arch|indent(4, True) }}
{% endif %}
{% if istio_gateways_egressgateway_global_logging is defined and istio_gateways_egressgateway_global_logging|length %}
  logging:
{{ istio_gateways_egressgateway_global_logging|indent(4, True) }}
{% endif %}
  priorityClassName: "{{ istio_gateways_egressgateway_global_priorityClassName }}"
{% if istio_gateways_egressgateway_global_proxy is defined and istio_gateways_egressgateway_global_proxy|length %}
  proxy:
{{ istio_gateways_egressgateway_global_proxy|indent(4, True) }}
{% endif %}

  ##############################################################################################
  # The following values are found in other charts. To effectively modify these values, make   #
  # make sure they are consistent across your Istio helm charts                                #
  ##############################################################################################

  caAddress: "{{ istio_all_global_caAddress }}"
  istioNamespace: {{ istio_all_global_istioNamespace }}
  jwtPolicy: {{ istio_all_global_jwtPolicy }}
  meshID: "{{ istio_all_global_meshID }}"
  mountMtlsCerts: {{ istio_all_global_mountMtlsCerts }}
{% if istio_all_global_multiCluster is defined and istio_all_global_multiCluster|length %}
  multiCluster:
{{ istio_all_global_multiCluster|indent(4, True) }}
{% endif %}
  network: "{{ istio_all_global_network }}"
  pilotCertProvider: {{ istio_all_global_pilotCertProvider }}
{% if istio_all_global_sds is defined and istio_all_global_sds|length %}
  sds:
{{ istio_all_global_sds|indent(4, True) }}
{% endif %}
{% if istio_all_global_sts is defined and istio_all_global_sts|length %}
  sts:
{{ istio_all_global_sts|indent(4, True) }}
{% endif %}
  trustDomain: "{{ istio_all_global_trustDomain }}"

meshConfig:
  enablePrometheusMerge: {{ istio_gateways_egressgateway_meshConfig_enablePrometheusMerge }}
{% if istio_gateways_egressgateway_meshConfig_defaultConfig is defined and istio_gateways_egressgateway_meshConfig_defaultConfig|length %}
  defaultConfig:
{{ istio_gateways_egressgateway_meshConfig_defaultConfig|indent(4, True) }}
{% endif %}

